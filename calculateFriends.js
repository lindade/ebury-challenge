var followers;
var ci; // confidence level
var cmax;
var twitterAccounts;
var neededFriendsTotal = 0;

var cmax0 = 4;
var str0 = "11111";
var array0;

var cmax1 = 1;
var str1 = "09"
var array1;

var cmax2 = 5;
var str2 = "110011";
var array2;

var cmax3 = 1000;
var str3 = "90500000005000001000000000000000000000000800000000000006005003200000900000000000000000000050006000000500000000000050500200000080080002800000000010000100000904002081000000000000000000600000040009600000002200000050006000000007000000000000000000004060000600000000001704004023000000000050800000000000040000095000100004000000000020000003050000906080000000000000000059000000000060000000050900000000050400000076009000700390000000000400000000090070770000202700004090800000300000000004005000000800700000000100004005000000005000010000073060000087000101000790000203400040010700010000000000060800002070000000000000000000700004000070003000006000000700000900001000070050500009004000800080007800000040000000000008020400500000900070060000500000000000600000000700000007600000000700000002300000000000000000000100000900000800000010000000000000000000000000800000030100000000070000200080000003003000070000000002100000900000010000006080700021005300000002000000000010005030505400000000300050000007000400600000011000030000301";
var array3;

var cmax4 = 1000;
var str4 = "00070030000000000005300000000000000000003037000000900000090901020050000610006020000050000060004000000050004000000001000090000000000009001000000000700007020010000000070000000100000000000000000329000800000060070000040043000000900000500000771000000000000700000095007000460002000070000000006003000000000000000040000000007905020500090000000307390009049000940000007801600000010809980000000000000700005000100000200000000000800000008010108007018000000000050030005000009010000000000700008000000004000000903000070070000000008300000000800000000000056000009080000002004000000380260000312010000001000020000000000050000000000005000000300000000000800000300030003000000900000004000002000600000000000601000000000000000070045200090001000000207000000002002000000097012093000040006090000000500004070000000080060070107900030000000000009900000004000402036070000020000409010302000000000000099000008000204040000600000050000063000000072000000000000000000000050000000000000076300090106000000000500000600200000000000406050050001";
var array4;

function countFriends(cmax, twitterAccounts) {

    followers = 0;
    neededFriendsTotal = 0;

    for (var i = 0; i <= cmax; i++) {
        ci = i;
        //if the current number of followers is bigger or equals the confidence level of the Twitter accounts 
        if (followers >= ci) {
            //add number of twitterAccounts at index i to followers
            followers += twitterAccounts[i];
        } else {
            //determine how many friends to ask
            var tempNeededFriends = 0;
            // take current number of followers
            // take current value of ci index
            // ci - followers = needed amount of friends to reach the next confidence level
            tempNeededFriends = ci - followers;
            // add amount of temporary needed friends to the total amount of friends needed
            neededFriendsTotal += tempNeededFriends;
            // add number of asked friends to amount of followers
            followers += tempNeededFriends;
            // if the number of current followers equals the confindence level of the next potential followers
            if (followers == ci) {
                followers += twitterAccounts[i];
            }
        };
    };
    console.log("followers at the end " + followers);
    console.log("needed friends in total " + neededFriendsTotal);
    document.getElementById("showTotalNumberOfFollowers").innerHTML = "Number of Followers: " + followers;
    document.getElementById("showResult").innerHTML = "Needed friends in total: " + neededFriendsTotal;
}

function stringToIntArray(str) {

    var result = [];
    for (var i = 0; i < str.length; i++) {
        result[i] = parseInt(str[i]);
    }
    console.log(result);
    return result;

}

function convertAllStringsToIntArrays() {

    array0 = stringToIntArray(str0);
    array1 = stringToIntArray(str1);
    array2 = stringToIntArray(str2);
    array3 = stringToIntArray(str3);
    array4 = stringToIntArray(str4);
}